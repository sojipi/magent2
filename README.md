# Computer Use Agent ğŸ¤–

## ç¬¬ä¸€ç« ï¼šæ¦‚è¿°

Computer Use Agent æ˜¯ä¸€ä¸ªåŸºäºäººå·¥æ™ºèƒ½çš„æ¡Œé¢è‡ªåŠ¨åŒ–ç³»ç»Ÿï¼Œèƒ½å¤Ÿé€šè¿‡è‡ªç„¶è¯­è¨€æŒ‡ä»¤æ¥æ§åˆ¶è®¡ç®—æœºæ‰§è¡Œå„ç§ä»»åŠ¡ã€‚è¯¥ç³»ç»Ÿç»“åˆäº†è®¡ç®—æœºè§†è§‰ã€è‡ªç„¶è¯­è¨€å¤„ç†å’Œæ¡Œé¢è‡ªåŠ¨åŒ–æŠ€æœ¯ï¼Œè®©ç”¨æˆ·å¯ä»¥ç”¨ç®€å•çš„ä¸­æ–‡æè¿°æ¥å®Œæˆå¤æ‚çš„æ¡Œé¢æ“ä½œã€‚

### ğŸŒŸ ä¸»è¦ç‰¹æ€§

- **æ™ºèƒ½è§†è§‰ç†è§£**ï¼šä½¿ç”¨ Qwen è§†è§‰æ¨¡å‹ç†è§£å±å¹•å†…å®¹ï¼Œç²¾ç¡®å®šä½ UI å…ƒç´ 
- **è‡ªç„¶è¯­è¨€äº¤äº’**ï¼šæ”¯æŒä¸­æ–‡è‡ªç„¶è¯­è¨€æŒ‡ä»¤ï¼Œæ— éœ€ç¼–ç¨‹çŸ¥è¯†
- **å¤šç§æ“ä½œæ”¯æŒ**ï¼š
  - é¼ æ ‡æ“ä½œï¼ˆå•å‡»ã€åŒå‡»ã€å³å‡»ï¼‰
  - é”®ç›˜è¾“å…¥ï¼ˆæ–‡æœ¬è¾“å…¥ã€å¿«æ·é”®ï¼‰
  - ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œ
  - å±å¹•æˆªå›¾å’Œåˆ†æ
  - å®‰å“æ‰‹æœºæ“ä½œ
- **å®æ—¶ç›‘æ§**ï¼šæä¾›å®Œæ•´çš„æ“ä½œæ—¥å¿—å’Œå®æ—¶ç•Œé¢åé¦ˆ
- **æ²™ç›’ç¯å¢ƒ**ï¼šåŸºäº E2B sandboxï¼Œæ— å½±äº‘ç”µè„‘ï¼Œæ— å½±äº‘æ‰‹æœº æ¡Œé¢æ²™ç›’ï¼Œå®‰å…¨éš”ç¦»æ‰§è¡Œç¯å¢ƒ

### ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ç•Œé¢      â”‚â—„â”€â”€â–ºâ”‚   åç«¯ API      â”‚â—„â”€â”€â–ºâ”‚   AI æ™ºèƒ½ä½“     â”‚
â”‚  (Streamlit)    â”‚    â”‚   (FastAPI)     â”‚    â”‚ (SandboxAgent)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                        â”‚
                                                        â–¼
                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                              â”‚ E2B æ²™ç›’ï¼Œæ— å½±    â”‚
                                              â”‚ (Desktop Env)   â”‚
                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”§ æŠ€æœ¯æ ˆ

- **å‰ç«¯**ï¼šStreamlit/HTML - ç°ä»£åŒ– Web ç•Œé¢
- **åç«¯**ï¼šFastAPI - é«˜æ€§èƒ½å¼‚æ­¥ API æœåŠ¡
- **AgentæœåŠ¡**ï¼š
  - Mobile Agent
  - PC Agent
- **AI æ¨¡å‹**ï¼š
  - Qwen-VL-Maxï¼šè§†è§‰ç†è§£å’Œ GUI å®šä½
  - Qwen-Maxï¼šä»»åŠ¡è§„åˆ’å’Œå†³ç­–
- **è‡ªåŠ¨åŒ–**ï¼šE2B Desktop - å®‰å…¨çš„æ¡Œé¢æ²™ç›’ç¯å¢ƒ
- **å›¾åƒå¤„ç†**ï¼šPillow - å±å¹•æˆªå›¾å’Œå›¾åƒæ ‡æ³¨
- **äº‘ç”µè„‘**ï¼šæ— å½±äº‘ç”µè„‘ OpenAPI æ‰§è¡Œå‘½ä»¤ã€æˆªå›¾ç­‰

## ç¬¬äºŒç« ï¼šåŸºç¡€ä½¿ç”¨

### Qwen-Max + Qwen-VL-MAX + E2B Desktopæ¥å…¥ä½¿ç”¨
æ³¨æ„ï¼š
  - å¼€é€šDASHSCOPE_API_KEY
  - å¼€é€šE2B
  - E2B ç›®å‰ä»…æ”¯æŒè‹±æ–‡query
#### 1. æœ¬åœ°æœåŠ¡å¯åŠ¨å‡†å¤‡
éœ€è¦æå‰å®‰è£…å¥½python ,æ¨è3.10
##### 1.1 ç¯å¢ƒå˜é‡é…ç½®

##### 1.1.1 çµç§¯ç™¾ç‚¼å¹³å°å¤§æ¨¡å‹API-KEY å¼€é€š
    ä»‹ç»æ–‡æ¡£ï¼š
    https://help.aliyun.com/zh/model-studio/get-api-key?scm=20140722.S_help%40%40%E6%96%87%E6%A1%A3%40%402712195._.ID_help%40%40%E6%96%87%E6%A1%A3%40%402712195-RL_api%7EDAS%7Ekey-LOC_doc%7EUND%7Eab-OR_ser-PAR1_2102029c17568993690712578dba5c-V_4-PAR3_o-RE_new5-P0_0-P1_0&spm=a2c4g.11186623.help-search.i20

å¤‡æ³¨ï¼šqwen-max/qwen-vl-maxæ¨¡å‹åœ¨é“¾è·¯ä¸­è°ƒç”¨ï¼Œæ–°ç”¨æˆ·éƒ½ä¼šæœ‰å…è´¹é¢åº¦ï¼›
##### 1.1.2 E2B å¼€é€š
    è®¿é—®E2Bå®˜ç½‘æ³¨å†Œå¹¶è·å–ï¼Œç„¶åé…ç½®åˆ°E2B_API_KEY
    https://e2b.dev

##### 1.1.3ç¯å¢ƒå˜é‡é…ç½®ç¤ºä¾‹

```bash
# åœ¨å¤§æ¨¡å‹æœåŠ¡å¹³å°ç™¾ç‚¼,åˆ›å»ºapi-key, å¹¶æä¾›è¯¥äº‘è´¦å·uidæ‰¾mobile agentå›¢é˜ŸåŠ ç™½
DASHSCOPE_API_KEY=
# E2B API Key
E2B_API_KEY=
```

å¯ä»¥å‚è€ƒä¸‹é¢å…¨å±€é…ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨æ ¹ç›®å½•æ–°å»ºä¸€ä¸ª `.env` æ–‡ä»¶ï¼Œå°†ä¸Šé¢çš„é…ç½®ç²˜è´´è¿›å»ï¼Œå¯åŠ¨è„šæœ¬ä¸­æœ‰è¯»å–çš„é€»è¾‘ï¼š

```bash
# macOS/Linux é…ç½®æ–¹æ³•
nano ~/.zshrc    # å¦‚æœä½ ç”¨çš„æ˜¯ zshï¼ˆmacOS Catalina åŠä»¥åé»˜è®¤ï¼‰
# æˆ–è€…
nano ~/.bash_profile  # å¦‚æœä½ ç”¨çš„æ˜¯ bash

# æ·»åŠ ç¯å¢ƒå˜é‡ä¾‹å¦‚
# äº‘ç”µè„‘é…ç½®
export DASHSCOPE_API_KEY="your_api_key_here"
export ECD_DESKTOP_ID="your_desktop_id"
# ... å…¶ä»–é…ç½®

# ä¿å­˜åè¿è¡Œ
source ~/.zshrc
```

#### 1.4 æœ¬åœ° Demo å¯åŠ¨

##### 1.4.1 è¿›å…¥ç›®å½•
```bash
cd demos/computer_use/computer_use_server
```

##### 1.4.2 å®‰è£…ä¾èµ–
```bash
# åœ¨ demos/computer_use/computer_use_server æ ¹ç›®å½•ä¸‹æ‰§è¡Œ
pip install -r requirements.txt
```

##### 1.4.3 å¯åŠ¨è„šæœ¬æˆæƒå’Œå¯åŠ¨

**æ³¨æ„ï¼šäº‘ç”µè„‘ã€äº‘æ‰‹æœºè¦ä¿è¯å¯åŠ¨è¿è¡Œä¸­ï¼Œå¯ä»¥åœ¨æ— å½±æ§åˆ¶å°ï¼Œæˆ–è€…å®¢æˆ·ç«¯è®¾ç½®ã€‚

```bash
cd demos/computer_use/computer_use_server/local_base_version
# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x start_base.sh

# å¯åŠ¨
./start_base.sh
```

å¦‚æœ E2B æ¡†æ¶çš„ key ç¬¬ä¸€æ¬¡åœ¨æœ¬åœ°ä½¿ç”¨ï¼Œå¹¶ä¸”ç›´æ¥æ‰§è¡Œ `start.sh` å¯åŠ¨ä¸èµ·æ¥å‰ç«¯ï¼Œå¯ä»¥å•ç‹¬æ‰§è¡Œï¼š

```bash
streamlit run frontend_base.py
```

å¯åŠ¨åæ§åˆ¶å°ä¼šæç¤ºè¾“å…¥é‚®ç®±ï¼Œç›´æ¥å›è½¦å³å¯ã€‚åç»­å°±å¯ä»¥ç›´æ¥æ‰§è¡Œå¯åŠ¨è„šæœ¬ã€‚
#### ğŸ‰ 1.4.4 å¯åŠ¨æˆåŠŸè¾“å‡º

å¯åŠ¨æˆåŠŸåï¼Œç»ˆç«¯è¾“å‡ºå¦‚ä¸‹ï¼š

```
æµè§ˆå™¨è®¿é—®å‰ç«¯é¡µé¢: http://localhost:8501
INFO:     Uvicorn running on http://0.0.0.0:8002 (Press CTRL+C to quit)
INFO:     Started reloader process [71212] using StatReload
ğŸ¨ å¯åŠ¨å‰ç«¯ç•Œé¢ (http://localhost:8501)...

  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:8501
  Network URL: http://

  For better performance, install the Watchdog module:

  $ xcode-select --install
  $ pip install watchdog

ğŸ¨ å¯åŠ¨å‰ç«¯é™æ€èµ„æº (http://localhost:8001)...
âœ… æœåŠ¡å·²å¯åŠ¨!
ğŸ“± å‰ç«¯ç•Œé¢: http://localhost:8501
ğŸ”§ åç«¯API: http://localhost:8002
ğŸ”§ å‰ç«¯é™æ€: http://localhost:8001
```

**è®¿é—®åœ°å€ï¼š**
- æµè§ˆå™¨è®¿é—®å‰ç«¯é¡µé¢ï¼š[http://localhost:8501](http://localhost:8501)



## ç¬¬ä¸‰ç« ï¼šè¿›é˜¶ä½¿ç”¨

### Qwen-Max + PC/Mobile-Agent + æ— å½±äº‘ç”µè„‘ï¼ˆwinodosï¼‰/äº‘æ‰‹æœºï¼ˆå®‰å“ï¼‰æ¥å…¥ä½¿ç”¨
æ³¨æ„ï¼š
- åªç”¨E2B Desktopçš„è¯ï¼Œæ— å½±äº‘ç›¸å…³çš„èµ„æºæ— éœ€è´­ä¹°ï¼Œä¸‹é¢ç›¸å…³çš„é…ç½®ä¹Ÿä¸ç”¨é…ç½®ã€‚
  - å¼€é€šDASHSCOPE_API_KEY
  - å¼€é€šE2B
- ä½¿ç”¨æ— å½±äº‘ç”µè„‘ï¼Œæˆ–è€…äº‘æ‰‹æœºä»…è´­ä¹°ä¸‹æ–‡å¯¹åº”èµ„æº
- æ­¤ç‰ˆæœ¬å¸¦æœ‰å˜æ›´äº‘ç”µè„‘é•œåƒï¼Œé‡ç½®äº‘æ‰‹æœºå®ä¾‹é•œåƒçš„åŠŸèƒ½ï¼Œæ¥ä¿è¯æ¸…ç©ºç”¨æˆ·ä¿¡æ¯ä½¿ç”¨ç—•è¿¹ï¼Œä½¿ç”¨è¯¥åŠŸèƒ½éœ€è¦å‡ ä¸ªæ¡ä»¶
  - è´­ä¹°çš„äº‘ç”µè„‘å®‰è£…å¥½ä¸‹æ–‡ä¸­pythonç¯å¢ƒä¾èµ–ï¼Œäº‘æ‰‹æœºå®‰è£…å¥½ADBKeyboard.apkåï¼ŒåŸºäºæ­¤åˆ›å»ºä¸€ä¸ªé•œåƒä½œä¸ºåŸºç¡€é•œåƒ
  - äº‘ç”µè„‘å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®ECD_IMAGE_ID é•œåƒidï¼Œç»“åˆä»£ç ä¸­çš„å˜æ›´é•œåƒé€»è¾‘æ¥å®ç°
  - äº‘æ‰‹æœºéœ€è¦ç”¨æˆ·è‡ªå·±é€‰åˆ›å»ºå¥½çš„é•œåƒä½œä¸ºé•œåƒï¼Œç„¶åç¨‹åºä¸­èµ°çš„æ˜¯é‡ç½®é•œåƒçš„é€»è¾‘ã€‚
  - ä¹Ÿå¯ä»¥å…³é—­é‡ç½®çš„é€»è¾‘ï¼Œè¿™æ ·å°±æ— éœ€è®¾ç½®é•œåƒäº†ã€‚é€šè¿‡ç¯å¢ƒå˜é‡å¼€å…³EQUIP_RESET=0å…³é—­ï¼Œ1å¼€å¯
#### 1. æœ¬åœ°æœåŠ¡å¯åŠ¨å‡†å¤‡
éœ€è¦æå‰å®‰è£…å¥½python ,æ¨è3.10
##### 1.1 ç¯å¢ƒå˜é‡é…ç½®

##### 1.1.1 çµç§¯ç™¾ç‚¼å¹³å°å¤§æ¨¡å‹API-KEY å¼€é€š
    ä»‹ç»æ–‡æ¡£ï¼š
    https://help.aliyun.com/zh/model-studio/get-api-key?scm=20140722.S_help%40%40%E6%96%87%E6%A1%A3%40%402712195._.ID_help%40%40%E6%96%87%E6%A1%A3%40%402712195-RL_api%7EDAS%7Ekey-LOC_doc%7EUND%7Eab-OR_ser-PAR1_2102029c17568993690712578dba5c-V_4-PAR3_o-RE_new5-P0_0-P1_0&spm=a2c4g.11186623.help-search.i20

å¤‡æ³¨ï¼šqwen-max/qwen-vl-maxæ¨¡å‹åœ¨é“¾è·¯ä¸­è°ƒç”¨ï¼Œæ–°ç”¨æˆ·éƒ½ä¼šæœ‰å…è´¹é¢åº¦ï¼›
å¼€é€šå®Œåéœ€è¦æ‰¾Mobile agentå›¢é˜Ÿ å¯¹agentè¿›è¡Œé‚€æµ‹åŠ ç™½ï¼›
##### 1.1.2 é˜¿é‡Œäº‘è´¦å·ak ,sk è·å–
    ä»‹ç»æ–‡æ¡£ï¼š
    https://help.aliyun.com/document_detail/53045.html?spm=5176.21213303.aillm.3.7df92f3d4XzQHZ&scm=20140722.S_%E9%98%BF%E9%87%8C%E4%BA%91sk._.RL_%E9%98%BF%E9%87%8C%E4%BA%91sk-LOC_aillm-OR_chat-V_3-RC_llm

##### 1.1.3 osså¼€é€š
    ä»‹ç»æ–‡æ¡£ï¼š
    https://help.aliyun.com/zh/oss/?spm=5176.29463013.J_AHgvE-XDhTWrtotIBlDQQ.8.68b834deqSKlrh

å¤‡æ³¨ï¼šè´­ä¹°å®Œåå°†è´¦å·å‡­è¯ä¿¡æ¯é…ç½®åˆ°ä¸‹é¢ç¯å¢ƒå˜é‡ä¸­ï¼Œä¹Ÿå°±æ˜¯EDS_OSS_ çš„é…ç½® EDS_OSS_ACCESS_KEYç›¸å…³çš„ä¿¡æ¯å°±æ˜¯è´­ä¹°OSSçš„é˜¿é‡Œäº‘è´¦å·çš„ak,sk

##### 1.1.4 æ— å½±äº‘ç”µè„‘å¼€é€š
  è´­ä¹°äº‘ç”µè„‘ï¼Œå»ºè®®ä¼ä¸šç‰ˆï¼ˆä¸ªäººç‰ˆéœ€è¦è·Ÿæ— å½±è¦ä¸€ä¸‹EndUserIdï¼Œç”¨äºé…ç½®ç¯å¢ƒå˜é‡ECD_USERNAMEï¼‰
ç›®å‰ä»…æ”¯æŒwindos

      æ— å½±ä¸ªäººç‰ˆæ–‡æ¡£ï¼š
      https://help.aliyun.com/zh/edsp?spm=a2c4g.11174283.d_help_search.i2
      æ— å½±ä¼ä¸šç‰ˆæ–‡æ¡£ï¼š
      https://help.aliyun.com/zh/wuying-workspace/product-overview/?spm=a2c4g.11186623.help-menu-68242.d_0.518d5bd7bpQxLq
è´­ä¹°å®Œåå°†äº‘ç”µè„‘éœ€è¦çš„ä¿¡æ¯é…ç½®åˆ°ä¸‹é¢ç¯å¢ƒå˜é‡ä¸­ï¼Œä¹Ÿå°±æ˜¯ECD_ çš„é…ç½®
  ALIBABA_CLOUD_ACCESS_KEYç›¸å…³çš„ä¿¡æ¯å°±æ˜¯è´­ä¹°äº‘ç”µè„‘çš„é˜¿é‡Œäº‘è´¦å·çš„ak,sk

##### 1.1.5 æ— å½±äº‘æ‰‹æœºå¼€é€š
ç›®å‰ä»…æ”¯æŒå®‰å“ç³»ç»Ÿ

      æ§åˆ¶å°ï¼š
      https://wya.wuying.aliyun.com/instanceLayouts
      å¸®åŠ©æ–‡æ¡£ï¼š
      https://help.aliyun.com/zh/ecp/?spm=a2c4g.11186623.0.0.62dfe33avAMTwU
  è´­ä¹°å®Œåå°†äº‘ç”µè„‘éœ€è¦çš„ä¿¡æ¯é…ç½®åˆ°ä¸‹é¢ç¯å¢ƒå˜é‡ä¸­ï¼Œä¹Ÿå°±æ˜¯EDS_ çš„é…ç½®
  ALIBABA_CLOUD_ACCESS_KEYç›¸å…³çš„ä¿¡æ¯å°±æ˜¯è´­ä¹°äº‘æ‰‹æœºçš„é˜¿é‡Œäº‘è´¦å·çš„ak,sk

ç¯å¢ƒå˜é‡é…ç½®ç¤ºä¾‹

```bash
# åœ¨å¤§æ¨¡å‹æœåŠ¡å¹³å°ç™¾ç‚¼,åˆ›å»ºapi-key, å¹¶æä¾›è¯¥äº‘è´¦å·uidæ‰¾mobile agentå›¢é˜ŸåŠ ç™½
DASHSCOPE_API_KEY=

# äº‘ç”µè„‘é…ç½®
# ,éš”å¼€ï¼Œè®¾å¤‡å®ä¾‹åˆ—è¡¨
DESKTOP_IDS=
# ä¼ä¸šç‰ˆå¯ä»¥è‡ªå·±æ§åˆ¶å°çœ‹ï¼Œä¸ªäººç‰ˆéœ€è¦æ‰¾æ— å½±é‚£è¾¹è¦ä¸€ä¸‹
ECD_USERNAME=
ECD_APP_STREAM_REGION_ID=cn-shanghai
ECD_ALIBABA_CLOUD_REGION_ID=cn-hangzhou
ECD_ALIBABA_CLOUD_ENDPOINT=ecd.cn-hangzhou.aliyuncs.com
ECD_ALIBABA_CLOUD_ACCESS_KEY_ID=
ECD_ALIBABA_CLOUD_ACCESS_KEY_SECRET=
ECD_IMAGE_ID=

# äº‘æ‰‹æœºé…ç½®
# ,éš”å¼€ï¼Œè®¾å¤‡å®ä¾‹åˆ—è¡¨
PHONE_INSTANCE_IDS=
EDS_ALIBABA_CLOUD_ENDPOINT=eds-aic.cn-shanghai.aliyuncs.com
EDS_ALIBABA_CLOUD_ACCESS_KEY_ID=
EDS_ALIBABA_CLOUD_ACCESS_KEY_SECRET=

# OSS é…ç½®ï¼ˆæ ¹æ®è‡ªå·±çš„é…ç½®æ¥ï¼‰
EDS_OSS_ACCESS_KEY_ID=
EDS_OSS_ACCESS_KEY_SECRET=
EDS_OSS_BUCKET_NAME=dashscope-cn-beijing
EDS_OSS_ENDPOINT=http://oss-cn-beijing.aliyuncs.com
EDS_OSS_PATH=bailiansdk-agent-wy/screenshot/

# æ¿€æ´»è®¾å¤‡æ—¶ï¼Œæ˜¯å¦å¯åŠ¨é‡ç½® 1æ˜¯ 0å¦
EQUIP_RESET=1
# äººå·¥å¹²é¢„ç­‰å¾…æ—¶é—´ç§’
HUMAN_WAIT_TIME=60

REDIS_HOST=
REDIS_PASSWORD=
REDIS_USERNAME=

```

å¯ä»¥å‚è€ƒä¸‹é¢å…¨å±€é…ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨æ ¹ç›®å½•æ–°å»ºä¸€ä¸ª `.env` æ–‡ä»¶ï¼Œå°†ä¸Šé¢çš„é…ç½®ç²˜è´´è¿›å»ï¼Œå¯åŠ¨è„šæœ¬ä¸­æœ‰è¯»å–çš„é€»è¾‘ï¼š

```bash
# macOS/Linux é…ç½®æ–¹æ³•
nano ~/.zshrc    # å¦‚æœä½ ç”¨çš„æ˜¯ zshï¼ˆmacOS Catalina åŠä»¥åé»˜è®¤ï¼‰
# æˆ–è€…
nano ~/.bash_profile  # å¦‚æœä½ ç”¨çš„æ˜¯ bash

# æ·»åŠ ç¯å¢ƒå˜é‡ä¾‹å¦‚
# äº‘ç”µè„‘é…ç½®
export DASHSCOPE_API_KEY="your_api_key_here"
export ECD_DESKTOP_ID="your_desktop_id"
# ... å…¶ä»–é…ç½®

# ä¿å­˜åè¿è¡Œ
source ~/.zshrc
```
#### ğŸ’» 1.2 äº‘ç”µè„‘ç¯å¢ƒå‡†å¤‡

å¦‚æœäº‘ç”µè„‘å·²ç»è£…å¥½ç¯å¢ƒï¼Œè¿™æ­¥ä¸éœ€è¦é…ç½®ï¼Œä½†æ˜¯ä¾èµ–éœ€è¦çœ‹ä¸‹æ˜¯å¦å®‰è£…ã€‚

##### 1.2.1 äº‘ç”µè„‘ Python ç¯å¢ƒå®‰è£…

ä»¥ä¸‹æ‰€æœ‰å‘½ä»¤éƒ½æ˜¯åœ¨äº‘ç”µè„‘ä¸Šçš„ PowerShell ä¸­æ‰§è¡Œ,å¯ä»¥é€šè¿‡ä¸‹è½½æ— å½±å®¢æˆ·ç«¯ç™»å½•åˆ°ç”µè„‘ä¸Šæ‰§è¡Œï¼š

```powershell
# è®¾ç½®ä¸‹è½½è·¯å¾„å’Œç‰ˆæœ¬
$version = "3.10.11"
$installerName = "python-$version-amd64.exe"
$downloadUrl = "https://mirrors.aliyun.com/python-release/windows/$installerName"
$pythonInstaller = "$env:TEMP\$installerName"

# é»˜è®¤å®‰è£…è·¯å¾„ï¼ˆPython 3.10 å®‰è£…åˆ° Program Filesï¼‰
$installDir = "C:\Program Files\Python310"
$scriptsDir = "$installDir\Scripts"

# ä¸‹è½½ Python å®‰è£…åŒ…ï¼ˆä½¿ç”¨é˜¿é‡Œäº‘é•œåƒï¼‰
Write-Host "æ­£åœ¨ä»é˜¿é‡Œäº‘ä¸‹è½½ $installerName ..." -ForegroundColor Green
Invoke-WebRequest -Uri $downloadUrl -OutFile $pythonInstaller

# é™é»˜å®‰è£… Pythonï¼ˆæ‰€æœ‰ç”¨æˆ· + å°è¯•æ·»åŠ  PATHï¼‰
Write-Host "æ­£åœ¨å®‰è£… Python $version ..." -ForegroundColor Green
Start-Process -Wait -FilePath $pythonInstaller -ArgumentList "/quiet InstallAllUsers=1 PrependPath=0"  # æˆ‘ä»¬è‡ªå·±åŠ  PATHï¼Œæ‰€ä»¥å…³é—­å†…ç½®çš„

# åˆ é™¤å®‰è£…åŒ…
Remove-Item -Force $pythonInstaller

# ========== ä¸»åŠ¨æ·»åŠ  Python åˆ°ç³»ç»Ÿ PATH ==========
Write-Host "æ­£åœ¨å°† Python æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ PATH ..." -ForegroundColor Green

# è·å–å½“å‰ç³»ç»Ÿ PATHï¼ˆMachine çº§åˆ«ï¼‰
$currentPath = [Environment]::GetEnvironmentVariable("Path", "Machine") -split ";"

# è¦æ·»åŠ çš„è·¯å¾„
$pathsToAdd = @($installDir, $scriptsDir)

# æ£€æŸ¥å¹¶æ·»åŠ 
$updated = $false
foreach ($path in $pathsToAdd) {
    if (-not $currentPath.Contains($path) -and (Test-Path $path)) {
        $currentPath += $path
        $updated = $true
        Write-Host "å·²æ·»åŠ : $path" -ForegroundColor Cyan
    }
}

# å†™å›ç³»ç»Ÿ PATH
if ($updated) {
    $newPath = $currentPath -join ";"
    [Environment]::SetEnvironmentVariable("Path", $newPath, "Machine")
    Write-Host "ç³»ç»Ÿ PATH å·²æ›´æ–°ã€‚" -ForegroundColor Green
} else {
    Write-Host "Python è·¯å¾„å·²å­˜åœ¨äºç³»ç»Ÿ PATH ä¸­ã€‚" -ForegroundColor Yellow
}

# ========== æ›´æ–°å½“å‰ PowerShell ä¼šè¯çš„ PATH ==========
# å¦åˆ™å½“å‰ç»ˆç«¯è¿˜ä¸èƒ½ä½¿ç”¨ python å‘½ä»¤
$env:Path = [Environment]::GetEnvironmentVariable("Path", "Machine") + ";" + [Environment]::GetEnvironmentVariable("Path", "User")

# ========== æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ ==========
Write-Host "`næ£€æŸ¥å®‰è£…ç»“æœï¼š" -ForegroundColor Green
try {
    python --version
} catch {
    Write-Host "python å‘½ä»¤ä¸å¯ç”¨ï¼Œè¯·é‡å¯ç»ˆç«¯ã€‚" -ForegroundColor Red
}

try {
    pip --version
} catch {
    Write-Host "pip å‘½ä»¤ä¸å¯ç”¨ï¼Œè¯·é‡å¯ç»ˆç«¯ã€‚" -ForegroundColor Red
}

# å®‰è£…ä¾èµ–åŒ…
python -m pip install pyautogui -i https://mirrors.aliyun.com/pypi/simple/
python -m pip install requests -i https://mirrors.aliyun.com/pypi/simple/
python -m pip install pyperclip -i https://mirrors.aliyun.com/pypi/simple/
python -m pip install pynput -i https://mirrors.aliyun.com/pypi/simple/
python -m pip install aiohttp -i https://mirrors.aliyun.com/pypi/simple/
python -m pip install asyncio -i https://mirrors.aliyun.com/pypi/simple/

```
#### ğŸ“± 1.3 äº‘æ‰‹æœºç¯å¢ƒå‡†å¤‡

ç”±äºä¸€äº›appå¯¹å‰ªè´´æ¿æœ‰å¼€å¯é™åˆ¶ï¼Œå¯¼è‡´æ–‡å­—è¾“å…¥æŒ‡ä»¤æ— æ³•ç”Ÿæ•ˆï¼ˆé€šè¿‡å‰ªè´´æ¿å®ç°ï¼‰ï¼Œæ‰€ä»¥æ‰‹æœºç¯å¢ƒéœ€è¦æå‰å®‰è£…å¥½ `ADBKeyboard.apk`ã€‚

å¯ä»¥å†™ä¸ªè„šæœ¬ï¼Œå‚è€ƒä¸‹é¢çš„æ–¹æ³•è¿›è¡Œå®‰è£…ï¼š

```python
from agentbricks.components.sandbox_center.sandboxes.cloud_phone_wy import CloudPhone

def set_adb_for_phone():
    equipment = CloudPhone()
    # å®ä¾‹id
    list_s = []
    for i in list_s:
        equipment = CloudPhone(instance_id=i)
        status, rsp = equipment.instance_manager.check_and_setup_app(
            "http://dashscope-cn-hangzhou.oss-cn-hangzhou-internal.aliyuncs.com/wy_file/ADBKeyboard.apk",
            "ADBKeyboard.apk"
        )

    print("åˆå§‹åŒ–æ‰‹æœºadbæˆåŠŸ")

set_adb_for_phone()
```
#### 1.4 æœ¬åœ° Demo å¯åŠ¨

##### 1.4.1 è¿›å…¥ç›®å½•
```bash
cd demos/computer_use/computer_use_server
```

##### 1.4.2 å®‰è£…ä¾èµ–
```bash
# åœ¨ demos/computer_use/computer_use_server æ ¹ç›®å½•ä¸‹æ‰§è¡Œ
pip install -r requirements.txt
```

##### 1.4.3 å¯åŠ¨è„šæœ¬æˆæƒå’Œå¯åŠ¨

**æ³¨æ„ï¼šäº‘ç”µè„‘ã€äº‘æ‰‹æœºè¦ä¿è¯å¯åŠ¨è¿è¡Œä¸­ï¼Œå¯ä»¥åœ¨æ— å½±æ§åˆ¶å°ï¼Œæˆ–è€…å®¢æˆ·ç«¯è®¾ç½®ã€‚

```bash
# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x start.sh

# å¯åŠ¨
./start.sh
```

å¦‚æœ E2B æ¡†æ¶çš„ key ç¬¬ä¸€æ¬¡åœ¨æœ¬åœ°ä½¿ç”¨ï¼Œå¹¶ä¸”ç›´æ¥æ‰§è¡Œ `start.sh` å¯åŠ¨ä¸èµ·æ¥å‰ç«¯ï¼Œå¯ä»¥å•ç‹¬æ‰§è¡Œï¼š

```bash
streamlit run frontend.py
```

å¯åŠ¨åæ§åˆ¶å°ä¼šæç¤ºè¾“å…¥é‚®ç®±ï¼Œç›´æ¥å›è½¦å³å¯ã€‚åç»­å°±å¯ä»¥ç›´æ¥æ‰§è¡Œå¯åŠ¨è„šæœ¬ã€‚
#### ğŸ‰ 1.4.4 å¯åŠ¨æˆåŠŸè¾“å‡º

å¯åŠ¨æˆåŠŸåï¼Œç»ˆç«¯è¾“å‡ºå¦‚ä¸‹ï¼š

```
æµè§ˆå™¨è®¿é—®å‰ç«¯é¡µé¢: http://localhost:8501
INFO:     Uvicorn running on http://0.0.0.0:8002 (Press CTRL+C to quit)
INFO:     Started reloader process [71212] using StatReload
ğŸ¨ å¯åŠ¨å‰ç«¯ç•Œé¢ (http://localhost:8501)...

  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:8501
  Network URL: http://

  For better performance, install the Watchdog module:

  $ xcode-select --install
  $ pip install watchdog

ğŸ¨ å¯åŠ¨å‰ç«¯é™æ€èµ„æº (http://localhost:8001)...
âœ… æœåŠ¡å·²å¯åŠ¨!
ğŸ“± å‰ç«¯ç•Œé¢: http://localhost:8501
ğŸ”§ åç«¯API: http://localhost:8002
ğŸ”§ å‰ç«¯é™æ€: http://localhost:8001
```

**è®¿é—®åœ°å€ï¼š**
- æµè§ˆå™¨è®¿é—®å‰ç«¯é¡µé¢ï¼š[http://localhost:8501](http://localhost:8501)



#### 1.4.5 ä½¿ç”¨å¤‡æ³¨

##### ğŸ–¥ï¸ é€‰æ‹©äº‘ç”µè„‘é…ç½®

**æ³¨æ„ï¼š** è¯¥ demo ä¼šè‡ªåŠ¨å¯åŠ¨å”¤é†’äº‘ç”µè„‘ï¼Œä¸ºäº†é¿å…é•¿æ—¶é—´æ”¶è´¹ï¼Œä½¿ç”¨åè®°å¾—å…³é—­çª—å£ï¼Œå¹¶ä¸”äº‘ç”µè„‘è®°å¾—è®¾ç½®è‡ªåŠ¨ä¼‘çœ ï¼Œä»¥å…é•¿æ—¶é—´è¿è¡Œä¸­å¯¼è‡´è´¹ç”¨é—®é¢˜ã€‚

##### ğŸ“± é€‰æ‹©æ‰‹æœºé…ç½®

**æ³¨æ„ï¼š** è¯¥ demo ä½¿ç”¨éœ€è¦äº‘æ‰‹æœºåœ¨å”¤é†’çŠ¶æ€ï¼Œä¸ºäº†é¿å…é•¿æ—¶é—´æ”¶è´¹ï¼Œä½¿ç”¨åè®°å¾—å…³é—­çª—å£ï¼Œå¹¶ä¸”è®°å¾—è®¾ç½®è‡ªåŠ¨ä¼‘çœ ï¼Œä»¥å…é•¿æ—¶é—´è¿è¡Œä¸­å¯¼è‡´è´¹ç”¨é—®é¢˜ã€‚